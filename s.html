<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nursing Schedule Generator</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
        th { background-color: #f4f4f4; }
    </style>
</head>
<body>
    <h2>Nursing Schedule Generator</h2>
    <label for="days">Enter the number of days for the schedule:</label>
    <input type="number" id="days" min="1" max="31" placeholder="Enter days"><br><br>
    
    <label for="staffCount">Enter the number of staff:</label>
    <input type="number" id="staffCount" min="1" placeholder="Enter number of staff"><br><br>
    
    <label for="minStaffPerShift">Enter minimum staff required per shift:</label>
    <input type="number" id="minStaffPerShift" min="1" placeholder="Minimum staff per shift"><br><br>
    
    <button onclick="generateSchedule()">Generate Schedule</button>

    <table id="schedule-table">
        <thead>
            <tr>
                <th>Day</th>
                <th>Staff</th>
                <th>Shift</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        function generateSchedule() {
            const days = parseInt(document.getElementById('days').value);
            const staffCount = parseInt(document.getElementById('staffCount').value);
            const minStaffPerShift = parseInt(document.getElementById('minStaffPerShift').value);

            if (isNaN(days) || days < 1 || days > 31 || 
                isNaN(staffCount) || staffCount < 1 || 
                isNaN(minStaffPerShift) || minStaffPerShift < 1) {
                alert("Please enter valid numbers for days, staff, and minimum staff per shift.");
                return;
            }

            const tableBody = document.querySelector('#schedule-table tbody');
            tableBody.innerHTML = '';  // Clear previous schedule

            const totalShiftsPerNurse = 18;
            const shiftsPerType = totalShiftsPerNurse / 2; // 9 day shifts, 9 night shifts per nurse

            const schedule = [];
            const staff = Array.from({ length: staffCount }, (_, i) => `Nurse ${i + 1}`); // Create staff names
            let dayCount = 1;

            // Create a list of shifts to distribute evenly across staff
            while (dayCount <= days) {
                for (let shiftType of ['Day', 'Night']) {
                    // Calculate how many nurses are needed for this shift
                    let assignedNurses = 0;
                    
                    while (assignedNurses < minStaffPerShift && dayCount <= days) {
                        for (let i = 0; i < staff.length; i++) {
                            const nurseName = staff[i];
                            const currentShifts = schedule.filter(shift => shift.staff === nurseName);
                            const dayShifts = currentShifts.filter(shift => shift.shift === 'Day').length;
                            const nightShifts = currentShifts.filter(shift => shift.shift === 'Night').length;

                            // Ensure nurse can take more shifts
                            if (dayShifts < shiftsPerType && nightShifts < shiftsPerType) {
                                schedule.push({ day: dayCount, staff: nurseName, shift: shiftType });
                                assignedNurses++;
                                
                                // If reached required staff for this shift, break
                                if (assignedNurses >= minStaffPerShift) {
                                    break;
                                }
                            }
                        }
                        dayCount++;
                    }
                }
            }

            // Render the schedule in the table
            schedule.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${item.day}</td><td>${item.staff}</td><td>${item.shift}</td>`;
                tableBody.appendChild(row);
            });
        }
    </script>
</body>
</html>